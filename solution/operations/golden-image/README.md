## 使用 Terraform 构建 golden image

### 准备工作

* 开通资源目录，并建立相应的资源结构
* 开通 ECS 的快照服务

### 使用方式

该操作共分为两个步骤：
* 首先需要创建一台 ECS，并通过 user-data 的方式让 ECS 在创建完成后执行相关自定义脚本。通过该脚本实现镜像内的操作。也可以通过云助手命令的方式实现。脚本可以参考 `step1-create-ecs` 这个文件夹下的内容；
* 进入 `step2-distribute-golden-image`，将第一步得到的实例 ID 做为变量传入，完成镜像分发；
* 完成后，即可销毁第一步的资源。下次再构建黄金镜像的时候，可以再从第一步开始运行。